> Task :compileJava
> Task :processResources UP-TO-DATE
> Task :classes
> Task :compileTestJava UP-TO-DATE
> Task :processTestResources UP-TO-DATE
> Task :testClasses UP-TO-DATE

> Task :test

MarketSimulator 통합 테스트 STANDARD_OUT
    23:55:48.036 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.kairos.trading.integration.MarketSimulatorTest]: MarketSimulatorTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
    23:55:48.341 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.kairos.trading.KairosTradingApplication for test class com.kairos.trading.integration.MarketSimulatorTest

      .   ____          _            __ _ _
     /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
    ( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
     \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
      '  |____| .__|_| |_|_| |_\__, | / / / /
     =========|_|==============|___/=/_/_/_/

     :: Spring Boot ::                (v3.4.1)

    23:55:49.805 [background-preinit] [] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
    23:55:49.885 [Test worker] [] INFO  c.k.t.i.MarketSimulatorTest - Starting MarketSimulatorTest using Java 21.0.9 with PID 74208 (started by BryanShin in F:\KAIROS\backend)
    23:55:49.887 [Test worker] [] INFO  c.k.t.i.MarketSimulatorTest - The following 1 profile is active: "test"
    23:55:51.786 [Test worker] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
    23:55:52.164 [Test worker] [] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 361 ms. Found 7 JPA repository interfaces.

MarketSimulator 통합 테스트 STANDARD_ERROR
    Mockito is currently self-attaching to enable the inline-mock-maker. This will no longer work in future releases of the JDK. Please add Mockito as an agent to your build what is described in Mockito's documentation: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#0.3
    WARNING: A Java agent has been loaded dynamically (C:\Users\BryanShin\scoop\apps\gradle\current\.gradle\caches\modules-2\files-2.1\net.bytebuddy\byte-buddy-agent\1.15.11\a38b16385e867f59a641330f0362ebe742788ed8\byte-buddy-agent-1.15.11.jar)
    WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
    WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
    WARNING: Dynamic loading of agents will be disallowed by default in a future release

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :test

MarketSimulator 통합 테스트 STANDARD_OUT
    23:55:55.151 [Test worker] [] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
    23:55:55.303 [Test worker] [] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.4.Final
    23:55:55.388 [Test worker] [] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
    23:55:55.715 [Test worker] [] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
    23:55:55.791 [Test worker] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
    23:55:56.429 [Test worker] [] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
    23:55:56.432 [Test worker] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
    23:55:56.627 [Test worker] [] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
    	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
    	Database driver: undefined/unknown
    	Database version: 2.3.232
    	Autocommit mode: undefined/unknown
    	Isolation level: undefined/unknown
    	Minimum pool size: undefined/unknown
    	Maximum pool size: undefined/unknown
    23:55:58.584 [Test worker] [] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
    23:55:58.618 [Test worker] [] DEBUG org.hibernate.SQL - 
        drop table if exists account cascade 
    23:55:58.628 [Test worker] [] DEBUG org.hibernate.SQL - 
        drop table if exists holding cascade 
    23:55:58.629 [Test worker] [] DEBUG org.hibernate.SQL - 
        drop table if exists journal cascade 
    23:55:58.630 [Test worker] [] DEBUG org.hibernate.SQL - 
        drop table if exists rss_feed cascade 
    23:55:58.631 [Test worker] [] DEBUG org.hibernate.SQL - 
        drop table if exists rss_feed_config cascade 
    23:55:58.632 [Test worker] [] DEBUG org.hibernate.SQL - 
        drop table if exists target_stock cascade 
    23:55:58.633 [Test worker] [] DEBUG org.hibernate.SQL - 
        drop table if exists trade_log cascade 
    23:55:58.634 [Test worker] [] DEBUG org.hibernate.SQL - 
        drop table if exists user_setting cascade 
    23:55:58.644 [Test worker] [] DEBUG org.hibernate.SQL - 
        create table account (
            d2_deposit numeric(18,2),
            daily_profit numeric(18,2),
            deposit numeric(18,2),
            total_asset numeric(18,2),
            id bigint generated by default as identity,
            updated_at timestamp(6),
            account_no varchar(20) not null unique,
            primary key (id)
        )
    23:55:58.666 [Test worker] [] DEBUG org.hibernate.SQL - 
        create table holding (
            avg_price numeric(18,2),
            current_price numeric(18,2),
            profit_loss numeric(18,2),
            profit_rate float(53),
            quantity integer not null,
            account_id bigint not null,
            id bigint generated by default as identity,
            updated_at timestamp(6),
            stock_code varchar(10) not null,
            stock_name varchar(50) not null,
            primary key (id)
        )
    23:55:58.668 [Test worker] [] DEBUG org.hibernate.SQL - 
        create table journal (
            date date not null unique,
            total_profit_loss numeric(18,2),
            trade_count integer,
            win_rate numeric(5,2),
            best_trade_log_id bigint,
            created_at timestamp(6),
            id bigint generated by default as identity,
            worst_trade_log_id bigint,
            ai_review_content TEXT,
            improvement_points TEXT,
            primary key (id)
        )
    23:55:58.672 [Test worker] [] DEBUG org.hibernate.SQL - 
        create table rss_feed (
            is_active boolean,
            polling_interval_sec integer,
            id bigint generated by default as identity,
            category varchar(20),
            name varchar(100) not null,
            url varchar(500) not null,
            primary key (id)
        )
    23:55:58.673 [Test worker] [] DEBUG org.hibernate.SQL - 
        create table rss_feed_config (
            is_active boolean,
            id bigint generated by default as identity,
            category varchar(20),
            name varchar(50),
            url varchar(255) not null unique,
            primary key (id)
        )
    23:55:58.675 [Test worker] [] DEBUG org.hibernate.SQL - 
        create table target_stock (
            base_date date not null,
            current_stop_loss numeric(10,0),
            current_target_price numeric(10,0),
            flow_score integer,
            fund_score integer,
            news_score integer,
            nexus_score integer,
            original_stop_loss numeric(10,0),
            original_target_price numeric(10,0),
            tech_score integer,
            created_at timestamp(6),
            id bigint generated by default as identity,
            risk_level varchar(10),
            stock_code varchar(10) not null,
            decision varchar(20),
            status varchar(20),
            strategy_mode varchar(20),
            stock_name varchar(50),
            nexus_reason TEXT,
            primary key (id),
            unique (base_date, stock_code)
        )
    23:55:58.680 [Test worker] [] DEBUG org.hibernate.SQL - 
        create table trade_log (
            filled_price numeric(10,0),
            market_score_snapshot integer,
            order_price numeric(10,0),
            profit_loss numeric(15,0),
            quantity integer,
            slippage_rate numeric(5,2),
            executed_at timestamp(6),
            id bigint generated by default as identity,
            target_stock_id bigint,
            stock_code varchar(10) not null,
            trade_type varchar(10),
            order_id varchar(20),
            status varchar(20),
            stock_name varchar(50),
            agent_msg varchar(255),
            primary key (id)
        )
    23:55:58.683 [Test worker] [] DEBUG org.hibernate.SQL - 
        create table user_setting (
            max_loss_per_trade float(53),
            max_position_count integer,
            max_position_ratio float(53),
            re_entry_allowed boolean,
            id bigint generated by default as identity,
            strategy_mode varchar(20),
            api_rate_limit_config TEXT,
            user_id varchar(255) unique,
            primary key (id)
        )
    23:55:58.687 [Test worker] [] DEBUG org.hibernate.SQL - 
        alter table if exists holding 
           add constraint FKl3fvhua25fo3eyt2qhghfyw60 
           foreign key (account_id) 
           references account
    23:55:58.712 [Test worker] [] DEBUG org.hibernate.SQL - 
        alter table if exists trade_log 
           add constraint FKbvkp5qm23og89qab6rkc54ljm 
           foreign key (target_stock_id) 
           references target_stock
    23:55:58.723 [Test worker] [] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
    23:55:58.796 [Test worker] [] INFO  c.k.t.common.gateway.ApiGatekeeper - ApiGatekeeper 초기화 완료 - 3 개의 API 버킷 생성
    23:55:58.880 [Test worker] [] INFO  c.k.trading.common.ai.GeminiConfig - Vector 모델 초기화 (gemini-2.5-flash, temp=0.2)
    23:55:59.209 [Test worker] [] INFO  c.k.trading.common.ai.AiClientConfig - VectorAiClient 생성 (temp=0.2)
    23:55:59.236 [Test worker] [] INFO  c.k.trading.common.ai.GeminiConfig - Sonar 모델 초기화 (gemini-2.5-flash, temp=0.1)
    23:55:59.245 [Test worker] [] INFO  c.k.trading.common.ai.AiClientConfig - SonarAiClient 생성 (temp=0.1)
    23:55:59.936 [Test worker] [] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
    23:56:01.230 [Test worker] [] INFO  c.k.t.c.w.KiwoomWebSocketClient - KiwoomWebSocketClient 초기화 완료
    23:56:01.453 [Test worker] [] INFO  c.k.trading.common.ai.GeminiConfig - Aegis Review 모델 초기화 (gemini-2.5-flash, temp=0.1)
    23:56:01.462 [Test worker] [] INFO  c.k.trading.common.ai.AiClientConfig - AegisReviewAiClient 생성 (temp=0.1)
    23:56:01.468 [Test worker] [] INFO  c.k.trading.common.ai.GeminiConfig - Axiom 모델 초기화 (gemini-2.5-flash, temp=0.0)
    23:56:01.476 [Test worker] [] INFO  c.k.trading.common.ai.AiClientConfig - AxiomAiClient 생성 (temp=0.0)
    23:56:01.550 [Test worker] [] INFO  c.k.trading.common.ai.GeminiConfig - Sentinel 모델 초기화 (gemini-2.5-flash, temp=0.1)
    23:56:01.557 [Test worker] [] INFO  c.k.trading.common.ai.AiClientConfig - SentinelAiClient 생성 (temp=0.1)
    23:56:01.567 [Test worker] [] INFO  c.k.trading.common.ai.GeminiConfig - Resonance 모델 초기화 (gemini-2.5-flash, temp=0.6)
    23:56:01.575 [Test worker] [] INFO  c.k.trading.common.ai.AiClientConfig - ResonanceAiClient 생성 (temp=0.6)
    23:56:01.623 [Test worker] [] INFO  c.k.trading.common.ai.GeminiConfig - Nexus 모델 초기화 (gemini-2.5-pro, temp=0.2)
    23:56:03.373 [Test worker] [] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
    23:56:03.450 [Test worker] [] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
    23:56:03.582 [Test worker] [] INFO  c.k.t.i.MarketSimulatorTest - Started MarketSimulatorTest in 14.7 seconds (process running for 17.882)

MarketSimulator 통합 테스트 > [Nexus] 5개 에이전트 만장일치 시 BUY 결정 STANDARD_OUT
    23:56:03.818 [Test worker] [] INFO  c.k.t.d.strategy.agent.NexusAgent - [Nexus] 전략 회의 시작 - Samsung (005930), 성향: AGGRESSIVE, 보고서 수: 5

MarketSimulator 통합 테스트 > [Nexus] 5개 에이전트 만장일치 시 BUY 결정 PASSED

MarketSimulator 통합 테스트 > [Kill Switch] 횡령 뉴스 발생 시 즉시 경고 PASSED

23:56:04.587 [SpringApplicationShutdownHook] [] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
23:56:04.588 [SpringApplicationShutdownHook] [] DEBUG org.hibernate.SQL - 
    drop table if exists account cascade 
23:56:04.590 [SpringApplicationShutdownHook] [] DEBUG org.hibernate.SQL - 
    drop table if exists holding cascade 
23:56:04.591 [SpringApplicationShutdownHook] [] DEBUG org.hibernate.SQL - 
    drop table if exists journal cascade 
23:56:04.592 [SpringApplicationShutdownHook] [] DEBUG org.hibernate.SQL - 
    drop table if exists rss_feed cascade 
23:56:04.594 [SpringApplicationShutdownHook] [] DEBUG org.hibernate.SQL - 
    drop table if exists rss_feed_config cascade 
23:56:04.595 [SpringApplicationShutdownHook] [] DEBUG org.hibernate.SQL - 
    drop table if exists target_stock cascade 
23:56:04.596 [SpringApplicationShutdownHook] [] DEBUG org.hibernate.SQL - 
    drop table if exists trade_log cascade 
23:56:04.596 [SpringApplicationShutdownHook] [] DEBUG org.hibernate.SQL - 
    drop table if exists user_setting cascade 
23:56:04.599 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
23:56:04.602 [SpringApplicationShutdownHook] [] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.

BUILD SUCCESSFUL in 25s
5 actionable tasks: 2 executed, 3 up-to-date
