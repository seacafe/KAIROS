# ===========================================
# KAIROS Backend - 기본 설정 (공통)
# ===========================================
# 프로필별 설정은 application-{profile}.yml 참조
#   - dev: 개발환경 (H2, 모의투자)
#   - prod: 운영환경 (PostgreSQL, 실전투자)
#
# 실행 방법:
#   ./gradlew bootRun --args='--spring.profiles.active=dev'
#   ./gradlew bootRun --args='--spring.profiles.active=prod'

spring:
  application:
    name: kairos-trading

  # 기본 프로필: dev
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  # Virtual Threads 활성화 (Java 21)
  threads:
    virtual:
      enabled: true

  # JPA 기본 설정
  jpa:
    open-in-view: false
    properties:
      hibernate:
        format_sql: true
        use_sql_comments: true

# 서버 설정
server:
  port: 8080
  error:
    include-message: always
    include-binding-errors: always

# Actuator (헬스 체크)
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when_authorized

# 기본 로깅
logging:
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"

# ===========================================
# ⚠️ 외부 API 설정 (Gemini, Kiwoom, Naver)은
#    application-dev.yml 또는 application-prod.yml에서 관리
# ===========================================
